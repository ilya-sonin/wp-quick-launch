# WordPress Docker Environment

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ WordPress –Ω–∞ Docker. –û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç - –∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone <your-repo-url>
cd wp-my-project
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
./start.sh
```

**–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –†–∞—Å–ø–∞–∫—É–µ—Ç WordPress –∏–∑ –∞—Ä—Ö–∏–≤–∞ `wordpress-6.9-ru_RU.zip`
- ‚úÖ –°–ø—Ä–æ—Å–∏—Ç –ø–æ—Ä—Ç—ã –¥–ª—è WordPress, phpMyAdmin –∏ MySQL
- ‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `.env` —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ WordPress

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∂–µ—Ç —Å–∫—Ä–∏–ø—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä http://localhost:8082) –∏ —Å–ª–µ–¥—É–π—Ç–µ –º–∞—Å—Ç–µ—Ä—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

**–ì–æ—Ç–æ–≤–æ!** üéâ

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üöÄ **–û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç** - –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–ª, –∑–∞–ø—É—Å—Ç–∏–ª `./start.sh`, —Ä–∞–±–æ—Ç–∞–µ—Ç
- üì¶ **WordPress –≤ –∞—Ä—Ö–∏–≤–µ** - –Ω–µ –Ω—É–∂–Ω–æ –∫–∞—á–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
- ‚öôÔ∏è **–ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `.env`, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Ä—Ç—ã
- üîÑ **–ú–Ω–æ–≥–æ–ø—Ä–æ–µ–∫—Ç–Ω–æ—Å—Ç—å** - –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–ø–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- üì§ **–ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ 256MB
- üá∑üá∫ **–†—É—Å—Å–∫–∏–π WordPress** - –≤–µ—Ä—Å–∏—è 6.9

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ docker-compose.yml         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îú‚îÄ‚îÄ upload.ini                # PHP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (256MB)
‚îú‚îÄ‚îÄ start.sh                  # üöÄ –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ stop.sh                   # –°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îú‚îÄ‚îÄ wordpress-6.9-ru_RU.zip   # –ê—Ä—Ö–∏–≤ WordPress (–∫–æ–º–º–∏—Ç–∏—Ç—Å—è)
‚îî‚îÄ‚îÄ wordpress/                # WordPress —Ñ–∞–π–ª—ã (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—Å—è, —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    ‚îú‚îÄ‚îÄ wp-content/
    ‚îú‚îÄ‚îÄ wp-admin/
    ‚îî‚îÄ‚îÄ wp-includes/
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
./start.sh
```

–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
./stop.sh
```

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è)
2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞)
3. –°–±—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—Ç–æ–≤)

### –ü—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose down

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
docker-compose down -v

# –õ–æ–≥–∏
docker-compose logs -f wordpress

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart
```

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cp -r wp-my-project my-new-project
cd my-new-project

# –û—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
rm -f .env .env.configured
rm -rf wordpress

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ (WordPress —Ä–∞—Å–ø–∞–∫—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
./start.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Git clone

```bash
git clone <repo-url> my-new-project
cd my-new-project
./start.sh
```

–í—Å—ë! WordPress —Ä–∞—Å–ø–∞–∫—É–µ—Ç—Å—è –∏–∑ –∞—Ä—Ö–∏–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ WordPress

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é –≤–µ—Ä—Å–∏—é WordPress:

1. –°–∫–∞—á–∞–π—Ç–µ –Ω—É–∂–Ω—ã–π –∞—Ä—Ö–∏–≤ —Å https://ru.wordpress.org/download/
2. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤ —Ñ–æ—Ä–º–∞—Ç `wordpress-*.zip` (–Ω–∞–ø—Ä–∏–º–µ—Ä `wordpress-6.10-ru_RU.zip`)
3. –ü–æ–ª–æ–∂–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (—Å—Ç–∞—Ä—ã–π –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `./start.sh` - —Å–∫—Ä–∏–ø—Ç –Ω–∞–π–¥–µ—Ç –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤

## –†–∞–±–æ—Ç–∞ —Å —Ç–µ–º–∞–º–∏ –∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ WordPress —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `wordpress/`:

```
wordpress/wp-content/
‚îú‚îÄ‚îÄ themes/        # –í–∞—à–∏ —Ç–µ–º—ã
‚îú‚îÄ‚îÄ plugins/       # –í–∞—à–∏ –ø–ª–∞–≥–∏–Ω—ã  
‚îî‚îÄ‚îÄ uploads/       # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

–ü–∞–ø–∫–∞ `wordpress/` –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ git (—É–∫–∞–∑–∞–Ω–∞ –≤ `.gitignore`).

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–º—ã:**
1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–º—É –≤ `wordpress/wp-content/themes/my-theme/`
2. –†–∞–±–æ—Ç–∞–π—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é
3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (volume mount)

**–î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–º—ã –≤ git:**
- –õ–∏–±–æ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ç–µ–º—ã
- –õ–∏–±–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–º—É –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É –≤–Ω–µ `wordpress/`

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ PHP

–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ñ–∞–π–ª `upload.ini`):

- üì§ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: **256MB**
- üì® –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä POST: **256MB**
- üß† –õ–∏–º–∏—Ç –ø–∞–º—è—Ç–∏: **512MB**
- ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: **600 —Å–µ–∫—É–Ω–¥**

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `upload.ini` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
docker-compose restart wordpress
```

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL

### –ß–µ—Ä–µ–∑ phpMyAdmin

1. –û—Ç–∫—Ä–æ–π—Ç–µ phpMyAdmin (–ø–æ—Ä—Ç –∏–∑ –≤—ã–≤–æ–¥–∞ `./start.sh`)
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ `root` (–ø–∞—Ä–æ–ª—å –≤ `.env` ‚Üí `MYSQL_ROOT_PASSWORD`)

### –ß–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `.env`:

```bash
Host: localhost
Port: MYSQL_PORT (–∏–∑ .env)
Database: wordpress
User: wordpress
Password: MYSQL_PASSWORD (–∏–∑ .env)
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### WordPress –Ω–µ –Ω–∞–π–¥–µ–Ω –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –µ—Å—Ç—å —Ñ–∞–π–ª `wordpress-*.zip`:

```bash
ls -la wordpress-*.zip
```

–ï—Å–ª–∏ –Ω–µ—Ç - —Å–∫–∞—á–∞–π—Ç–µ —Å https://ru.wordpress.org/download/

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –∏ –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç.

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

```bash
sudo chown -R $(whoami):$(whoami) wordpress/
```

### –°–±—Ä–æ—Å –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

```bash
./stop.sh  # –í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç 2
rm -rf wordpress
rm -f .env .env.configured
./start.sh
```

## Git

–í `.gitignore` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

‚úÖ **–ö–æ–º–º–∏—Ç–∏—Ç—Å—è:**
- `docker-compose.yml`
- `upload.ini`
- `start.sh`, `stop.sh`
- `wordpress-*.zip` (–∞—Ä—Ö–∏–≤ WordPress)

‚ùå **–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—Å—è:**
- `.env` (–ø–∞—Ä–æ–ª–∏)
- `.env.configured` (—Ñ–ª–∞–≥ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- `wordpress/` (—Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã - –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker Desktop
- Docker Compose
- Bash
- unzip

## Workflow –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å** ‚Üí `git clone <repo>`
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å** ‚Üí `./start.sh`
3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WordPress** ‚Üí –æ—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
4. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** ‚Üí —Å–æ–∑–¥–∞—Ç—å —Ç–µ–º—É –≤ `wordpress/wp-content/themes/`
5. **–ì–æ—Ç–æ–≤–æ!**

–í—Å—ë –Ω–∞—Å—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–æ! üéâ

